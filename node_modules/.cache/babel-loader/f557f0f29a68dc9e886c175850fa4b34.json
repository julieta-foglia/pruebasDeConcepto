{"ast":null,"code":"import React, { useState, useRef, useEffect } from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar Loader = function Loader() {\n  return React.createElement(\"div\", null, \"Loading meeting...\");\n};\n\nvar Props = {\n  domain: 'meet.jit.si',\n  roomName: /*#__PURE__*/(Math.random() + 0.48151642).toString(36).substring(2)\n};\nvar ContainerStyle = {\n  width: '800px',\n  height: '400px'\n};\n\nvar FrameStyle = function FrameStyle(loading) {\n  return {\n    display: loading ? 'none' : 'block',\n    width: '100%',\n    height: '100%'\n  };\n};\n\nvar Jitsi = function Jitsi(props) {\n  var _Default$Props$props = _extends({}, Props, {}, props),\n      containerStyle = _Default$Props$props.containerStyle,\n      frameStyle = _Default$Props$props.frameStyle,\n      loadingComponent = _Default$Props$props.loadingComponent,\n      onAPILoad = _Default$Props$props.onAPILoad,\n      onIframeLoad = _Default$Props$props.onIframeLoad,\n      domain = _Default$Props$props.domain,\n      roomName = _Default$Props$props.roomName,\n      password = _Default$Props$props.password,\n      displayName = _Default$Props$props.displayName,\n      config = _Default$Props$props.config,\n      interfaceConfig = _Default$Props$props.interfaceConfig,\n      noSSL = _Default$Props$props.noSSL,\n      jwt = _Default$Props$props.jwt,\n      devices = _Default$Props$props.devices,\n      userInfo = _Default$Props$props.userInfo;\n\n  var _useState = useState(true),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var ref = useRef(null);\n  var Loader$1 = loadingComponent || Loader;\n\n  var startConference = function startConference() {\n    try {\n      var options = {\n        roomName: roomName,\n        parentNode: ref.current,\n        configOverwrite: config,\n        interfaceConfigOverwrite: interfaceConfig,\n        noSSL: noSSL,\n        jwt: jwt,\n        onLoad: onIframeLoad,\n        devices: devices,\n        userInfo: userInfo\n      };\n      var api = new window.JitsiMeetExternalAPI(domain, options);\n      if (!api) throw 'Failed to create JitsiMeetExternalAPI istance';\n      if (onAPILoad) onAPILoad(api);\n      api.addEventListener('videoConferenceJoined', function () {\n        setLoading(false);\n        api.executeCommand('displayName', displayName);\n        if (password) api.executeCommand('password', password);\n      });\n    } catch (error) {\n      console.error('Failed to start the conference', error);\n    }\n  };\n\n  useEffect(function () {\n    if (window.JitsiMeetExternalAPI) startConference();else console.error('Jitsi Meet API library not loaded. Did you include it in the html body?');\n  }, []);\n  return React.createElement(\"div\", {\n    id: 'react-jitsi-container',\n    style: _extends({}, ContainerStyle, {}, containerStyle)\n  }, loading && React.createElement(Loader$1, null), React.createElement(\"div\", {\n    id: 'react-jitsi-frame',\n    style: _extends({}, FrameStyle(loading), {}, frameStyle),\n    ref: ref\n  }));\n};\n\nexport default Jitsi;","map":{"version":3,"sources":["../src/defaults.tsx","../src/Jitsi.tsx"],"names":["Loader","React","Props","domain","roomName","Math","ContainerStyle","width","height","FrameStyle","display","loading","Jitsi","containerStyle","frameStyle","loadingComponent","onAPILoad","onIframeLoad","password","displayName","config","interfaceConfig","noSSL","jwt","devices","userInfo","Default","props","setLoading","useState","ref","useRef","startConference","options","parentNode","configOverwrite","interfaceConfigOverwrite","onLoad","api","window","console","useEffect","id","style"],"mappings":"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","sourcesContent":["import React from 'react'\nimport * as Type from './types'\n\nexport const Loader = (): React.ReactElement => <div>Loading meeting...</div>\n\nexport const Props: Type.Props = {\n    domain: 'meet.jit.si',\n    roomName: (Math.random() + 0.48151642).toString(36).substring(2)\n}\n\nexport const ContainerStyle: React.CSSProperties = {\n    width: '800px',\n    height: '400px',\n}\n\n\nexport const FrameStyle = (loading: boolean): React.CSSProperties => ({\n    display: loading ? 'none' : 'block',\n    width: '100%',\n    height: '100%'\n})\n","import React, { useState, useEffect, useRef } from 'react'\nimport { Props, JitsiMeetAPIOptions } from './types'\nimport * as Default from './defaults'\n\n\nconst Jitsi: React.FC<Props> = (props: Props) => {\n\n    const {\n        containerStyle,\n        frameStyle,\n        loadingComponent,\n        onAPILoad,\n        onIframeLoad,\n        domain,\n        roomName,\n        password,\n        displayName,\n        config,\n        interfaceConfig,\n        noSSL,\n        jwt,\n        devices,\n        userInfo,\n    } = { ...Default.Props, ...props }\n\n    const [loading, setLoading] = useState(true)\n    const ref = useRef<HTMLDivElement | null>(null)\n\n    const Loader = loadingComponent || Default.Loader\n\n    const startConference = (): void => {\n\n        try {\n\n            const options: JitsiMeetAPIOptions = {\n                roomName,\n                parentNode: ref.current,\n                configOverwrite: config,\n                interfaceConfigOverwrite: interfaceConfig,\n                noSSL,\n                jwt,\n                onLoad: onIframeLoad,\n                devices,\n                userInfo\n            }\n\n            const api = new window.JitsiMeetExternalAPI(domain, options)\n\n            if (!api) throw 'Failed to create JitsiMeetExternalAPI istance'\n\n            if (onAPILoad) onAPILoad(api)\n\n            api.addEventListener('videoConferenceJoined', () => {\n\n                setLoading(false)\n\n                api.executeCommand('displayName', displayName)\n\n                if (password) api.executeCommand('password', password)\n\n            })\n\n\n        } catch (error) {\n\n            console.error('Failed to start the conference', error)\n\n        }\n\n    }\n\n    useEffect(() => {\n\n        if (window.JitsiMeetExternalAPI) startConference()\n        else console.error('Jitsi Meet API library not loaded. Did you include it in the html body?')\n\n    }, [])\n\n    return (\n        <div id='react-jitsi-container'\n            style={{ ...Default.ContainerStyle, ...containerStyle }} >\n\n            {loading && <Loader />}\n\n            <div id='react-jitsi-frame'\n                style={{ ...Default.FrameStyle(loading), ...frameStyle }}\n                ref={ref} />\n\n        </div>\n    )\n}\n\nexport default Jitsi\n\n"]},"metadata":{},"sourceType":"module"}