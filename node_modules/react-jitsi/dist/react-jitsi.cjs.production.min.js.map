{"version":3,"file":"react-jitsi.cjs.production.min.js","sources":["../src/defaults.tsx","../src/Jitsi.tsx"],"sourcesContent":["import React from 'react'\nimport * as Type from './types'\n\nexport const Loader = (): React.ReactElement => <div>Loading meeting...</div>\n\nexport const Props: Type.Props = {\n    domain: 'meet.jit.si',\n    roomName: (Math.random() + 0.48151642).toString(36).substring(2)\n}\n\nexport const ContainerStyle: React.CSSProperties = {\n    width: '800px',\n    height: '400px',\n}\n\n\nexport const FrameStyle = (loading: boolean): React.CSSProperties => ({\n    display: loading ? 'none' : 'block',\n    width: '100%',\n    height: '100%'\n})\n","import React, { useState, useEffect, useRef } from 'react'\nimport { Props, JitsiMeetAPIOptions } from './types'\nimport * as Default from './defaults'\n\n\nconst Jitsi: React.FC<Props> = (props: Props) => {\n\n    const {\n        containerStyle,\n        frameStyle,\n        loadingComponent,\n        onAPILoad,\n        onIframeLoad,\n        domain,\n        roomName,\n        password,\n        displayName,\n        config,\n        interfaceConfig,\n        noSSL,\n        jwt,\n        devices,\n        userInfo,\n    } = { ...Default.Props, ...props }\n\n    const [loading, setLoading] = useState(true)\n    const ref = useRef<HTMLDivElement | null>(null)\n\n    const Loader = loadingComponent || Default.Loader\n\n    const startConference = (): void => {\n\n        try {\n\n            const options: JitsiMeetAPIOptions = {\n                roomName,\n                parentNode: ref.current,\n                configOverwrite: config,\n                interfaceConfigOverwrite: interfaceConfig,\n                noSSL,\n                jwt,\n                onLoad: onIframeLoad,\n                devices,\n                userInfo\n            }\n\n            const api = new window.JitsiMeetExternalAPI(domain, options)\n\n            if (!api) throw 'Failed to create JitsiMeetExternalAPI istance'\n\n            if (onAPILoad) onAPILoad(api)\n\n            api.addEventListener('videoConferenceJoined', () => {\n\n                setLoading(false)\n\n                api.executeCommand('displayName', displayName)\n\n                if (password) api.executeCommand('password', password)\n\n            })\n\n\n        } catch (error) {\n\n            console.error('Failed to start the conference', error)\n\n        }\n\n    }\n\n    useEffect(() => {\n\n        if (window.JitsiMeetExternalAPI) startConference()\n        else console.error('Jitsi Meet API library not loaded. Did you include it in the html body?')\n\n    }, [])\n\n    return (\n        <div id='react-jitsi-container'\n            style={{ ...Default.ContainerStyle, ...containerStyle }} >\n\n            {loading && <Loader />}\n\n            <div id='react-jitsi-frame'\n                style={{ ...Default.FrameStyle(loading), ...frameStyle }}\n                ref={ref} />\n\n        </div>\n    )\n}\n\nexport default Jitsi\n\n"],"names":["Loader","React","Props","domain","roomName","Math","random","toString","substring","ContainerStyle","width","height","FrameStyle","loading","display","props","Default","containerStyle","frameStyle","loadingComponent","onAPILoad","onIframeLoad","password","displayName","config","interfaceConfig","noSSL","jwt","devices","userInfo","useState","setLoading","ref","useRef","useEffect","window","JitsiMeetExternalAPI","api","parentNode","current","configOverwrite","interfaceConfigOverwrite","onLoad","addEventListener","executeCommand","error","console","startConference","id","style"],"mappings":"mWAGO,IAAMA,EAAS,kBAA0BC,kDAEnCC,EAAoB,CAC7BC,OAAQ,cACRC,UAAWC,KAAKC,SAAW,WAAYC,SAAS,IAAIC,UAAU,IAGrDC,EAAsC,CAC/CC,MAAO,QACPC,OAAQ,SAICC,EAAa,SAACC,SAA2C,CAClEC,QAASD,EAAU,OAAS,QAC5BH,MAAO,OACPC,OAAQ,yBCdmB,SAACI,cAkBnBC,KAAkBD,GAfvBE,IAAAA,eACAC,IAAAA,WACAC,IAAAA,iBACAC,IAAAA,UACAC,IAAAA,aACAlB,IAAAA,OACAC,IAAAA,SACAkB,IAAAA,SACAC,IAAAA,YACAC,IAAAA,OACAC,IAAAA,gBACAC,IAAAA,MACAC,IAAAA,IACAC,IAAAA,QACAC,IAAAA,WAG0BC,YAAS,GAAhCjB,OAASkB,OACVC,EAAMC,SAA8B,MAEpCjC,EAASmB,GAAoBH,SA2CnCkB,aAAU,WAEFC,OAAOC,qBA3CS,mBAgBVC,EAAM,IAAIF,OAAOC,qBAAqBjC,EAZP,CACjCC,SAAAA,EACAkC,WAAYN,EAAIO,QAChBC,gBAAiBhB,EACjBiB,yBAA0BhB,EAC1BC,MAAAA,EACAC,IAAAA,EACAe,OAAQrB,EACRO,QAAAA,EACAC,SAAAA,QAKCQ,EAAK,KAAM,gDAEZjB,GAAWA,EAAUiB,GAEzBA,EAAIM,iBAAiB,yBAAyB,WAE1CZ,GAAW,GAEXM,EAAIO,eAAe,cAAerB,GAE9BD,GAAUe,EAAIO,eAAe,WAAYtB,MAKnD,MAAOuB,GAELC,QAAQD,MAAM,iCAAkCA,IAQnBE,GAC5BD,QAAQD,MAAM,6EAEpB,IAGC5C,uBAAK+C,GAAG,wBACJC,WAAYjC,KAA2BC,IAEtCJ,GAAWZ,gBAACD,QAEbC,uBAAK+C,GAAG,oBACJC,WAAYjC,EAAmBH,MAAaK,GAC5Cc,IAAKA"}